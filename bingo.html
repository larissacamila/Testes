<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üé∞ Cassino de Cartas</title>

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:radial-gradient(circle,#1b4d3e,#020f0a);
  color:#fff;
  text-align:center;
}

header{
  padding:10px;
}

#saldo{
  font-size:20px;
  margin:5px 0;
}

/* Mesa */
.mesa{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(70px,1fr));
  gap:10px;
  max-width:420px;
  margin:20px auto;
  padding:10px;
}

/* Carta */
.card{
  width:70px;
  height:100px;
  background-size:cover;
  background-position:center;
  border-radius:12px;
  box-shadow:0 6px 15px rgba(0,0,0,.6);
  transform-style:preserve-3d;
  transition:transform .6s;
}

/* Anima√ß√µes */
.spinning{
  animation:spin .25s infinite linear;
  filter:blur(2px);
}

.stop{
  animation:stop .4s ease-out;
}

.win{
  animation:glow 1s infinite alternate;
}

.reveal{
  transform:rotateY(180deg);
}

@keyframes spin{
  0%{transform:translateY(0) rotate(0)}
  50%{transform:translateY(-6px) rotate(2deg)}
  100%{transform:translateY(0) rotate(-2deg)}
}

@keyframes stop{
  from{transform:scale(1.2)}
  to{transform:scale(1)}
}

@keyframes glow{
  from{box-shadow:0 0 10px gold}
  to{box-shadow:0 0 30px gold}
}

/* Controles */
.controles{
  margin:15px;
}

input{
  padding:8px;
  font-size:16px;
  width:120px;
  border-radius:8px;
  border:none;
}

button{
  margin-top:10px;
  padding:12px 30px;
  font-size:18px;
  background:gold;
  border:none;
  border-radius:12px;
  cursor:pointer;
}

/* Mobile */
@media(max-width:600px){
  .card{
    width:60px;
    height:90px;
  }
}
</style>
</head>

<body>

<header>
  <h2>üé¥ Cassino de Cartas</h2>
  <div id="saldo">Saldo: R$ <span id="saldoValor">1000</span></div>
</header>

<div class="mesa" id="mesa"></div>

<div class="controles">
  <input type="number" id="aposta" value="50" min="10" step="10"><br>
  <button onclick="jogar()">üé∞ JOGAR</button>
</div>

<div id="resultado"></div>

<!-- Sons -->
<audio id="bgMusic" loop>
  <source src="jogo2.mp3" type="audio/mpeg">
</audio>

<audio id="spinSound">
  <source src="sounds/spin.mp3" type="audio/mpeg">
</audio>

<audio id="winSound">
  <source src="sounds/win.mp3" type="audio/mpeg">
</audio>

<script>
// ================= CONFIG =================
const TOTAL_CARTAS = 5;
const CARTA_BACK = "back.jpg";

let saldo = 1000;

// S√≠mbolos (slot disfar√ßado)
const simbolos = [
  { img:"carta1.jpg", valor:1, peso:35 },
  { img:"carta2.png", valor:2, peso:30 },
  { img:"carta3.jpg", valor:3, peso:20 },
  { img:"carta4.jpg", valor:4, peso:10 },
  { img:"carta5.jpg", valor:5, peso:4 },
  { img:"coringa.jpg", valor:10, peso:1 }
];

// ================= INIT =================
const mesa = document.getElementById("mesa");

for(let i=0;i<TOTAL_CARTAS;i++){
  const c=document.createElement("div");
  c.className="card";
  c.style.backgroundImage=`url(${CARTA_BACK})`;
  c.dataset.valor=0;
  mesa.appendChild(c);
}

// M√∫sica (obrigat√≥rio para iPhone)
document.addEventListener("click",()=>{
  const bg=document.getElementById("bgMusic");
  bg.volume=0.4;
  bg.play().catch(()=>{});
},{once:true});

// ================= FUN√á√ïES =================
function sortear(){
  const totalPeso = simbolos.reduce((s,a)=>s+a.peso,0);
  let r=Math.random()*totalPeso;
  for(const s of simbolos){
    r-=s.peso;
    if(r<=0) return s;
  }
}

function jogar(){
  const aposta=parseInt(document.getElementById("aposta").value);
  if(aposta<=0 || aposta>saldo){
    alert("Aposta inv√°lida");
    return;
  }

  saldo-=aposta;
  atualizarSaldo();
  document.getElementById("resultado").innerHTML="";

  const cartas=document.querySelectorAll(".card");
  document.getElementById("spinSound").play();

  cartas.forEach(c=>{
    c.className="card spinning";
    c.style.backgroundImage=`url(${CARTA_BACK})`;
    c.classList.remove("reveal","win");
  });

  setTimeout(()=>{
    let total=0;

    cartas.forEach(c=>{
      const s=sortear();
      c.style.backgroundImage=`url(${s.img})`;
      c.dataset.valor=s.valor;
      total+=s.valor;
      c.className="card stop reveal";
    });

    let ganho=0;
    if(total>=18){
      ganho=aposta*2;
      cartas.forEach(c=>c.classList.add("win"));
      document.getElementById("winSound").play();
    }

    saldo+=ganho;
    atualizarSaldo();

    document.getElementById("resultado").innerHTML=
      `üÉè Soma: <b>${total}</b><br>üí∞ Ganho: <b>R$ ${ganho}</b>`;
  },1800);
}

function atualizarSaldo(){
  document.getElementById("saldoValor").innerText=saldo;
}
</script>

</body>
</html>
